---
layout: post
title: AVL树
categories: [DataStructure]
tags: [java]
summary: AVL树对于任意一个节点，左子树和右子树的高度差不能为超过1。
---

## AVL 树

1. 平衡二叉树的高度和节点数量之间的关系也是`O(log n)`的。
1. AVL树节点的`平衡因子`是它的左子树的高度减去它的右子树的高度（有时相反）。带有平衡因子1、0或 -1的节点被认为是`平衡`的。带有平衡因子 -2或2的节点被认为是`不平衡`的，并需要`重新`平衡这个树。平衡因子可以直接`存储`在每个节点中，或从可能存储在节点中的`子树高度`计算出来。
1. AVL树的`基本操作`一般涉及运作同在`不平衡`的二叉查找树所运作的同样的算法。但是要进行预先或随后做一次或多次所谓的`AVL旋转`。
1. 失去平衡后进行的规律可归纳为下列四种情况：  
- 右旋转(RR)
```
    对节点y进行向右旋转操作，返回旋转后新的根节点x          T1< z < T2 < x < T3 < y < T4      
           y                              x            x.right = y
          / \                           /   \          y.left = T3
         x   T4     向右旋转 (y)        z     y          
        / \       - - - - - - - ->    / \   / \          
       z   T3                       T1  T2 T3 T4          
      / \
    T1   T2
```
- 左旋转(LL)
```
    对节点y进行向左旋转操作，返回旋转后新的根节点x          T4 < y < T3 < x < T1 < z < T2
       y                             x                 x.left = y
     /  \                          /   \               y.right = T3
    T1   x      向左旋转 (y)       y     z           
        / \   - - - - - - - ->   / \   / \           
      T2   z                    T1 T2 T3 T4           
          / \
         T3 T4
```
- LR
```
    首先对x进行左旋转，转化为了LL的情况      
           y                                y         
          / \                              / \
         x   T4     向左旋转 (x)           z   T4  
        / \       - - - - - - - ->      /  \       
       T1  z                           x   T3     
          / \                         / \
        T2   T3                      T1 T2
```
- RL
```
    首先对x进行右旋转，转化为了RR的情况
       y                            y
      / \                          / \
    T1   x      向右旋转 (x)       T1  z
        / \   - - - - - - - ->       / \
       z  T4                        T2  x
      / \                              / \
     T2 T3                            T3 T4
```

## 参考文献
- 维基百科-[AVL树](https://zh.wikipedia.org/wiki/AVL%E6%A0%91)  


